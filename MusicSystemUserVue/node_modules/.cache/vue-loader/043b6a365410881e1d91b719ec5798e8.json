{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\MusicSystemUserVue\\src\\pages\\LoginIn.vue?vue&type=style&index=0&id=a6fe930c&lang=scss&scoped=true&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\MusicSystemUserVue\\src\\pages\\LoginIn.vue","mtime":1710059198594},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1710059204259},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1710059206165},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":1710059204607},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\MusicSystemUserVue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1710059195848},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710059204174},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\MusicSystem\\src\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1710059206160}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCkBpbXBvcnQgIi4uL2Fzc2V0cy9jc3MvdmFyLnNjc3MiOw0KQGltcG9ydCAiLi4vYXNzZXRzL2Nzcy9nbG9iYWwuc2NzcyI7DQouYmd7DQogIGJhY2tncm91bmQ6dXJsKCIuLi8uLi9zcmMvYXNzZXRzL2ltZy9iZy5qcGciKSBuby1yZXBlYXQgNXB4IDVweDsNCiAgd2lkdGg6MTAwJTsNCiAgaGVpZ2h0OjEwMCU7DQogIGJhY2tncm91bmQtc2l6ZTogY292ZXI7DQogIC13ZWJraXQtYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgLW8tYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIDA7DQp9DQouc2lnbmluIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNDUsIDI0OSwgMjUwLC43NSk7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIHdpZHRoOiAzNTBweDsNCiAgbWFyZ2luOiAyNjVweCBhdXRvOw0KDQogIHBhZGRpbmc6IDMwcHggMzBweDsNCg0KICAuc2lnblVwLWhlYWQgew0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICBmb250LXdlaWdodDogNjAwOw0KICB9DQoNCiAgLmxvZ2luLWJ0biB7DQogICAgQGluY2x1ZGUgbGF5b3V0KHNwYWNlLWJldHdlZW4pOw0KICAgIGJ1dHRvbiB7DQogICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgIHdpZHRoOiA1MCU7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["LoginIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginIn.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n<div class=\"bg\">\r\n<!--    <loginLogo/>-->\r\n    <div class=\"signin\">\r\n        <div class=\"signUp-head\">\r\n            <span>账号登录</span>\r\n        </div>\r\n        <el-form :model=\"loginForm\" ref=\"loginForm\" label-width=\"70px\" class=\"demo-ruleForm\" :rules=\"rules\">\r\n            <el-form-item prop=\"username\" label=\"用户名\">\r\n                <el-input v-model=\"loginForm.username\" placeholder=\"用户名\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\" label=\"密码\">\r\n                <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"密码\" @keyup.enter.native=\"handleLoginIn\"></el-input>\r\n            </el-form-item>\r\n\r\n            <div class=\"login-btn\">\r\n                <el-button @click=\"goSignUp\" style=\"font-size: 20px;\"> 注册</el-button>\r\n                <el-button type=\"primary\" @click=\"handleLoginIn\" style=\"font-size: 20px;\"> 登录</el-button>\r\n            </div>\r\n        </el-form>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport loginLogo from '../components/LoginLogo'\r\nimport {mixin} from '../mixins'\r\nimport {loginIn} from '../api/index'\r\n\r\nexport default {\r\n    name: 'login-in',\r\n    mixins: [mixin],\r\n    components: {\r\n        loginLogo\r\n    },\r\n    data() {\r\n        return {\r\n            loginForm: {\r\n                username: '',       //用户名\r\n                password: '',       //密码\r\n            },\r\n            rules: {\r\n                username: [\r\n                    { required: true, trigger: 'blur',message: '请输入用户名' }\r\n                ],\r\n                password: [\r\n                    { required: true, trigger: 'blur',message: '请输入密码' }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.changeIndex('登录');\r\n    },\r\n    methods:{\r\n        handleLoginIn(){\r\n            let _this = this;\r\n            let params = new URLSearchParams();\r\n            params.append('username',this.loginForm.username);\r\n            params.append('password',this.loginForm.password);\r\n            loginIn(params)\r\n                .then(res => {\r\n                    console.log(res)\r\n                    if(res.code == 1){\r\n                        _this.notify('登录成功','success');\r\n                        _this.$store.commit('setLoginIn',true);\r\n                        _this.$store.commit('setUserId',res.userMsg.id);\r\n                        _this.$store.commit('setUsername',res.userMsg.username);\r\n                        _this.$store.commit('setAvator',res.userMsg.avator);\r\n                        setTimeout(function(){\r\n                            _this.changeIndex('首页');\r\n                            _this.$router.push({path: '/'});\r\n                        },2000);\r\n                    }else{\r\n                        _this.notify(res.msg,'error');\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if((err + \"\").indexOf(\"Cannot read properties of undefined (reading 'status')\") != -1) {\r\n                        _this.notify('Network Error','error');\r\n                        return;\r\n                    }\r\n                    _this.notify(err.data,'error');\r\n                })\r\n        },\r\n        goSignUp(){\r\n            this.changeIndex('注册');\r\n            this.$router.push({path: '/sign-up'});\r\n        },\r\n        changeIndex(value){\r\n            this.$store.commit('setActiveName',value);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/css/var.scss\";\r\n@import \"../assets/css/global.scss\";\r\n.bg{\r\n  background:url(\"../../src/assets/img/bg.jpg\") no-repeat 5px 5px;\r\n  width:100%;\r\n  height:100%;\r\n  background-size: cover;\r\n  -webkit-background-size: cover;\r\n  -o-background-size: cover;\r\n  background-position: center 0;\r\n}\r\n.signin {\r\n  background-color: rgba(245, 249, 250,.75);\r\n  border-radius: 10px;\r\n  width: 350px;\r\n  margin: 265px auto;\r\n\r\n  padding: 30px 30px;\r\n\r\n  .signUp-head {\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .login-btn {\r\n    @include layout(space-between);\r\n    button {\r\n      display: block;\r\n      width: 50%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}